<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xzyo Store - Joki Blox Fruit</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        :root {
            --primary-blue: #0072ff;
            --dark-bg: #0b1220;
            --card-bg: #111a33;
            --text-white: #ffffff;
            --neon-shadow: 0 0 15px rgba(0, 114, 255, 0.7);
        }

        * { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; }
        
        body {
            background: var(--dark-bg);
            color: var(--text-white);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .wrapper { max-width: 1000px; width: 100%; }
        h2 { text-align: center; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 2px; }
        p.subtitle { text-align: center; color: #7cc7ff; margin-bottom: 20px; }

        .btn {
            width: 100%; padding: 15px; border-radius: 12px; border: none; margin-top: 15px;
            background: linear-gradient(90deg, #020617, #0b3c8a, #020617);
            background-size: 200% auto; color: white; font-weight: bold; cursor: pointer;
            transition: all 0.3s ease; text-align: center; text-decoration: none; display: block; font-size: 16px;
        }

        .btn:hover, .btn:active { transform: scale(1.03); box-shadow: 0 0 25px rgba(0, 114, 255, 0.8); background-position: right center; }

        .container { display: flex; gap: 20px; align-items: flex-start; margin-top: 20px; flex-wrap: wrap; }
        .left-side { flex: 1; min-width: 320px; }
        .right-side { flex: 1.2; min-width: 320px; }

        .card { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 15px; padding: 25px; position: relative; overflow: hidden; margin-bottom: 20px; }

        input, textarea { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #1e293b; margin-top: 10px; background: #0b1220; color: white; outline: none; }
        input:focus { border-color: var(--primary-blue); }

        .section-title { margin-top: 20px; font-weight: bold; color: var(--primary-blue); border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .price-list { list-style: none; padding: 0; margin: 0; }
        .price-list li { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 14px; }
        .old-p { text-decoration: line-through; color: #ff4d4d; font-size: 12px; }
        .new-p { color: #00c6ff; font-weight: 800; font-size: 15px; }

        /* --- STYLE VIP LIST --- */
        .vip-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.03); border-bottom: 1px solid #222; }
        .crown-icon { color: gold; margin-right: 5px; }
        .check-icon { color: #00ff88; margin-left: 5px; }

        /* --- ANIMASI CEKLIS ASLI --- */
        .checkmark-wrapper { width: 100px; height: 100px; margin: 0 auto 20px; display: block; }
        .checkmark-circle, .checkmark-kick { fill: none; stroke: #00ff88; stroke-linecap: round; stroke-dasharray: 200; stroke-dashoffset: 200; }
        .active .checkmark-circle { stroke-width: 3; stroke-dasharray: 166; stroke-dashoffset: 166; animation: drawStroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
        .active .checkmark-kick { stroke-width: 5; stroke-dasharray: 48; stroke-dashoffset: 48; animation: drawStroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.6s forwards; }
        @keyframes drawStroke { 100% { stroke-dashoffset: 0; } }
        #order-slide { flex-direction: column; justify-content: center; align-items: center; text-align: center; }
    </style>
</head>
<body>

<div class="wrapper">
    <h2>JOKI BF XZYO STORE</h2>
    <p class="subtitle">Dijamin Murah, Aman, dan Terpercaya</p>

      <button type="button" class="btn" onclick="window.open('https://whatsapp.com/channel/0029VbCFZEm5kg7DZoIDgG3r','_blank')">
        <i class="fa-brands fa-whatsapp"></i> JOIN SALURAN DULU LEKKU
    </button>

    <div class="container">
        <div class="left-side">
            <div class="card" id="formCard">
                <iframe name="frame_gaib" style="display:none;"></iframe>
                <form id="orderForm" action="https://formsubmit.co/xzyostore@gmail.com" method="POST" target="frame_gaib" enctype="multipart/form-data">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_subject" id="email_subject" value="Pesanan Joki Baru">
                    <h3 style="margin:0; font-size:16px;"><i class="fa-solid fa-gamepad"></i> FORM JOKI</h3>
                    <input type="text" name="Username" id="usernameInput" placeholder="Username Roblox" required>
                    <div style="position:relative;">
                        <input type="password" name="Password" id="pw" placeholder="Password Roblox" required>
                        <i id="eye" class="fa-solid fa-eye-slash" onclick="togglePw()" style="position:absolute; right:12px; top:22px; cursor:pointer; color:#555;"></i>
                    </div>
                    <input type="text" name="WhatsApp" placeholder="Nomor WA (Aktif)" required>
                    <textarea name="Jenis Joki" placeholder="Contoh: Joki Level 1500 - MAX" rows="3" required></textarea>
                    <button type="submit" class="btn">ORDER SEKARANG</button>
                </form>

                <div id="order-slide" style="display: none;">
                    <div class="checkmark-wrapper">
                        <svg class="checkmark-svg" viewBox="0 0 52 52">
                            <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                            <path class="checkmark-kick" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                        </svg>
                    </div>
                    <h3 style="color: #00ff88;">ORDER TERKIRIM!</h3>
                </div>
            </div>

            <div class="card">
                <div style="color: #fff; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; font-size:14px;">
                    <i class="fa-solid fa-wallet"></i> <b>PAYMENT</b><br>
                    DANA : 089677329404<br>GOPAY / OVO : 089517154561
                </div>
                <button type="button" class="btn" style="background:linear-gradient(90deg, #ec4899, #8b5cf6);" onclick="window.open('https://wa.me/6289692310378?text=Admin%20minta%20QRIS','_blank')">QRIS? Click disini le</button>
            </div>

            <button class="btn" onclick="toggleVipForm()" style="background:#1e293b;"><i class="fa-solid fa-user-plus"></i> ISI DATAMU DI SINI LE</button>
            <div id="vipFormBox" class="card" style="display:none; margin-top:10px; border:1px solid gold;">
                <h3 style="margin:0; font-size:14px; color:gold;">UPDATE LIST VIP XZYO</h3>
                <input type="text" id="v_nama" placeholder="Nama Panggilan">
                <input type="number" id="v_wa" placeholder="Nomor WA (08...)">
                <input type="number" id="v_nominal" placeholder="Nominal Joki (Rp)">
                <button id="btnSimpanVip" class="btn" style="background:gold; color:black;">UPDATE SEKARANG</button>
            </div>

            <div class="card">
                <h3 style="margin:0; text-align:center; font-size:16px; color:gold;"><i class="fa-solid fa-crown"></i> TOP SULTAN XZYO</h3>
                <div id="vipListData" style="margin-top:15px; font-size:14px;">Memuat data...</div>
            </div>
        </div>

        <div class="right-side">
            <div class="card">
                <h3 style="margin-top:0; text-align:center;">LIST JOKI DISCON 15%</h3>
                <div class="section-title"><i class="fa-solid fa-eye"></i> Instinct (Ken Haki)</div>
                <ul class="price-list">
                    <li>0 â€“ 1000 <span><span class="old-p">5k</span><span class="new-p">4.2k</span></span></li>
                    <li>Full 0 â€“ MAX + V2 <span><span class="old-p">20k</span><span class="new-p">17k</span></span></li>
                </ul>
                <div class="section-title"><i class="fa-solid fa-coins"></i> Belly & Fragment</div>
                <ul class="price-list">
                    <li>10M Belly <span><span class="old-p">20k</span><span class="new-p">17k</span></span></li>
                    <li>20K Fragment <span><span class="old-p">15k</span><span class="new-p">12.7k</span></span></li>
                </ul>
                <div class="section-title"><i class="fa-solid fa-angles-up"></i> Leveling & Sea</div>
                <ul class="price-list">
                    <li>1500 â€“ MAX <span><span class="old-p">20k</span><span class="new-p">17k</span></span></li>
                </ul>
                <div class="section-title"><i class="fa-solid fa-khanda"></i> Legend Swords</div>
                <ul class="price-list">
                    <li>CDK / TTK <span><span class="old-p">25k</span><span class="new-p">21.2k</span></span></li>
                </ul>
                <div class="section-title"><i class="fa-solid fa-dragon"></i> Premium Boss</div>
                <ul class="price-list">
                    <li>God Human <span><span class="old-p">30k</span><span class="new-p">25.5k</span></span></li>
                </ul>
                <a href="https://wa.me/6289692310378" class="btn">TANYA-TANYA ADMIN</a>
            </div>
        </div>
    </div>
</div>

<script>
    // --- FIREBASE CONFIG ---
    const firebaseConfig = {
        apiKey: "AIzaSyC6aUjN60bSDE0BLVs3V-yNRYfSsPv0ZV8",
        authDomain: "xzyostore-66448.firebaseapp.com",
        databaseURL: "https://xzyostore-66448-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "xzyostore-66448",
        storageBucket: "xzyostore-66448.firebasestorage.app",
        messagingSenderId: "547146618223",
        appId: "1:547146618223:web:978b8956cc0293cfb7449a"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // --- FUNGSI SHOW/HIDE FORM VIP ---
    function toggleVipForm() {
        const box = document.getElementById('vipFormBox');
        box.style.display = box.style.display === 'none' ? 'block' : 'none';
    }

    // --- SIMPAN DATA VIP KE FIREBASE ---
    document.getElementById('btnSimpanVip').onclick = function() {
        const n = document.getElementById('v_nama').value.trim();
        const w = document.getElementById('v_wa').value;
        const p = parseInt(document.getElementById('v_nominal').value);
        if(!n || !p) return alert("Isi nama & nominal le!");

        db.ref('sultan/' + n).once('value').then((s) => {
            const d = s.val() || { total: 0, count: 0 };
            db.ref('sultan/' + n).update({
                total: d.total + p,
                count: d.count + 1,
                whatsapp: w || "-"
            }).then(() => {
                alert("Berhasil masuk list VIP!");
                document.getElementById('v_nominal').value = "";
                toggleVipForm();
            });
        });
    };

    // --- TAMPIL LIST VIP REALTIME ---
    db.ref('sultan').on('value', (s) => {
        const container = document.getElementById('vipListData');
        const data = s.val();
        if(!data) return container.innerHTML = "Belum ada Sultan.";
        container.innerHTML = "";
        Object.keys(data).sort((a,b) => data[b].total - data[a].total).forEach((name, i) => {
            const u = data[name];
            const crown = u.count >= 5 ? '<span class="crown-icon">ðŸ‘‘</span>' : '';
            const check = u.total >= 100000 ? '<span class="check-icon">âœ…</span>' : '';
            container.innerHTML += `<div class="vip-item">
                <span>${i+1}. ${crown}<b>${name}</b>${check}</span>
                <span style="color:#00ff88">Rp ${u.total.toLocaleString()}</span>
            </div>`;
        });
    });

    // --- LOGIKA FORM JOKI ASLI ---
    function togglePw() {
        let pw = document.getElementById("pw");
        let eye = document.getElementById("eye");
        pw.type = pw.type === "password" ? "text" : "password";
        eye.classList.toggle("fa-eye");
        eye.classList.toggle("fa-eye-slash");
    }

    document.getElementById("orderForm").addEventListener("submit", function(e){
        let nama = document.getElementById("usernameInput").value;
        document.getElementById("email_subject").value = "Pesanan Joki dari: " + nama;
        let form = this;
        let slide = document.getElementById("order-slide");
        form.style.opacity = "0";
        setTimeout(() => {
            form.style.display = "none";
            slide.style.display = "flex";
            slide.classList.add("active");
        }, 300);
    });
</script>

</body>
</html>
